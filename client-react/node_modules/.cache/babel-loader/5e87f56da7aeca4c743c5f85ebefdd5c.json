{"ast":null,"code":"var _jsxFileName = \"/home/salma/Rendu/Final-Project/backend/client/src/components/Cart.js\";\nimport { Component, Fragment } from 'react';\nimport AppNavbar from './AppNavbar';\nimport { Card, CardText, CardBody, CardTitle, CardSubtitle, Button, Alert, Container } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getCart, deleteFromCart } from '../actions/cartActions';\nimport Checkout from './Checkout';\nimport { checkout } from '../actions/orderActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Cart extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loaded: false\n    };\n\n    this.getCartItems = async id => {\n      await this.props.getCart(id);\n      this.state.loaded = true;\n    };\n\n    this.onDeleteFromCart = (id, itemId) => {\n      this.props.deleteFromCart(id, itemId);\n    };\n  }\n\n  render() {\n    const user = this.props.user;\n\n    if (this.props.isAuthenticated && !this.props.cart.loading && !this.state.loaded) {\n      this.getCartItems(user._id);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(AppNavbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), this.props.isAuthenticated ? /*#__PURE__*/_jsxDEV(Fragment, {\n        children: this.props.cart.cart ? null : /*#__PURE__*/_jsxDEV(Alert, {\n          color: \"info\",\n          className: \"text-center\",\n          children: \"Your cart is empty!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n        color: \"danger\",\n        className: \"text-center\",\n        children: \"Login to View!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 23\n      }, this), this.props.isAuthenticated && !this.props.cart.loading && this.state.loaded && this.props.cart.cart ? /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [this.props.cart.cart.items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: [/*#__PURE__*/_jsxDEV(Card, {\n              children: /*#__PURE__*/_jsxDEV(CardBody, {\n                children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                  tag: \"h5\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(CardSubtitle, {\n                  tag: \"h6\",\n                  children: [\"Rs. \", item.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(CardText, {\n                  children: [\"Quantity - \", item.quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"danger\",\n                  onClick: this.onDeleteFromCart.bind(this, user._id, item.productId),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md-12\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              children: /*#__PURE__*/_jsxDEV(CardBody, {\n                children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                  tag: \"h5\",\n                  children: [\"Total Cost = Rs. \", this.props.cart.cart.bill]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Checkout, {\n                  user: user._id,\n                  amount: this.props.cart.cart.bill,\n                  checkout: this.props.checkout\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nCart.propTypes = {\n  getCart: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool,\n  addToCart: PropTypes.func.isRequired,\n  deleteFromCart: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  cart: PropTypes.object.isRequired,\n  checkout: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  cart: state.cart,\n  isAuthenticated: state.auth.isAuthenticated,\n  user: state.auth.user\n});\n\nexport default connect(mapStateToProps, {\n  getCart,\n  deleteFromCart,\n  checkout\n})(Cart);","map":{"version":3,"sources":["/home/salma/Rendu/Final-Project/backend/client/src/components/Cart.js"],"names":["Component","Fragment","AppNavbar","Card","CardText","CardBody","CardTitle","CardSubtitle","Button","Alert","Container","PropTypes","connect","getCart","deleteFromCart","Checkout","checkout","Cart","state","loaded","getCartItems","id","props","onDeleteFromCart","itemId","render","user","isAuthenticated","cart","loading","_id","items","map","item","name","price","quantity","bind","productId","bill","propTypes","func","isRequired","bool","addToCart","object","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import { Component, Fragment } from 'react';\nimport AppNavbar from './AppNavbar';\nimport {Card, CardText, CardBody, CardTitle, CardSubtitle, Button, Alert, Container} from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getCart, deleteFromCart } from '../actions/cartActions';\nimport Checkout from './Checkout';\nimport { checkout } from '../actions/orderActions';\n\nclass Cart extends Component {\n\n    state = {\n        loaded: false,\n    }\n\n    static propTypes = {\n        getCart: PropTypes.func.isRequired,\n        isAuthenticated: PropTypes.bool,\n        addToCart: PropTypes.func.isRequired,\n        deleteFromCart: PropTypes.func.isRequired,\n        user: PropTypes.object.isRequired,\n        cart: PropTypes.object.isRequired,\n        checkout: PropTypes.func.isRequired\n    }\n\n    getCartItems = async (id) => {\n        await this.props.getCart(id);\n        this.state.loaded = true;\n    }\n\n    onDeleteFromCart = (id, itemId) => {\n        this.props.deleteFromCart(id, itemId);\n    } \n    \n    render(){\n        const user = this.props.user;\n        if(this.props.isAuthenticated && !this.props.cart.loading && !this.state.loaded){\n            this.getCartItems(user._id);\n        }\n        return(\n            <div>\n                <AppNavbar/>\n                {this.props.isAuthenticated ?\n                    <Fragment>\n                        {this.props.cart.cart ? null :\n                            <Alert color=\"info\" className=\"text-center\">Your cart is empty!</Alert>\n                        }\n                    </Fragment>\n                    : <Alert color=\"danger\" className=\"text-center\">Login to View!</Alert>\n                }  \n        \n            \n                {this.props.isAuthenticated && !this.props.cart.loading && this.state.loaded && this.props.cart.cart?\n                <Container>\n                    <div className=\"row\">\n                        {this.props.cart.cart.items.map((item)=>(\n                            <div className=\"col-md-4\">\n                        <Card>\n                            <CardBody>\n                                <CardTitle tag=\"h5\">{item.name}</CardTitle>\n                                <CardSubtitle tag=\"h6\">Rs. {item.price}</CardSubtitle>\n                                <CardText>Quantity - {item.quantity}</CardText>\n                                <Button color=\"danger\" onClick={this.onDeleteFromCart.bind(this, user._id, item.productId)}>Delete</Button>\n                            </CardBody>\n                        </Card>\n                        <br/>\n                        </div>\n                        ))}\n                        <div class=\"col-md-12\">\n                        <Card>\n                            <CardBody>\n                                <CardTitle tag=\"h5\">Total Cost = Rs. {this.props.cart.cart.bill}</CardTitle>\n                                <Checkout\n                                    user={user._id}\n                                    amount={this.props.cart.cart.bill}\n                                    checkout={this.props.checkout}\n                                />                   \n                            </CardBody>\n                        </Card>\n                        </div>\n                    </div>\n                </Container>\n                    :null}\n            </div>\n            \n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    cart: state.cart,\n    isAuthenticated: state.auth.isAuthenticated,\n    user: state.auth.user,\n})\n\nexport default connect(mapStateToProps, {getCart, deleteFromCart, checkout})(Cart);"]},"metadata":{},"sourceType":"module"}