{"ast":null,"code":"var _jsxFileName = \"/home/salma/Rendu/Final-Project/backend/Client-style/client/src/components/Cart.js\";\nimport { Component, Fragment } from 'react';\nimport AppNavbar from './AppNavbar';\nimport { Card, CardText, CardBody, CardTitle, CardSubtitle, Button, Alert, Container, Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getCart, deleteFromCart } from '../actions/cartActions'; //import Checkout from './Checkout';\n//import { checkout } from '../actions/orderActions';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Cart extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      modal: false,\n      loaded: false\n    };\n\n    this.getCartItems = async id => {\n      await this.props.getCart(id);\n      this.state.loaded = true;\n    };\n\n    this.onDeleteFromCart = (id, itemId) => {\n      this.props.deleteFromCart(id, itemId);\n    };\n\n    this.toggle = () => {\n      // Clear errors\n      this.props.clearErrors();\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n  }\n\n  render() {\n    const user = this.props.user;\n\n    if (this.props.isAuthenticated && !this.props.cart.loading && !this.state.loaded) {\n      this.getCartItems(user._id);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center lg:block\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"relative text-gray-700 dark:text-gray-200 hover:text-gray-600 dark:hover:text-gray-300\",\n          href: \"/cart\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.70711 15.2929C4.07714 15.9229 4.52331 17 5.41421 17H17M17 17C15.8954 17 15 17.8954 15 19C15 20.1046 15.8954 21 17 21C18.1046 21 19 20.1046 19 19C19 17.8954 18.1046 17 17 17ZM9 19C9 20.1046 8.10457 21 7 21C5.89543 21 5 20.1046 5 19C5 17.8954 5.89543 17 7 17C8.10457 17 9 17.8954 9 19Z\",\n              stroke: \"currentColor\",\n              strokewidt: \"2\",\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"absolute top-0 left-0 p-1 text-xs text-white bg-blue-500 rounded-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 16\n      }, this), this.props.isAuthenticated ? /*#__PURE__*/_jsxDEV(Fragment, {\n        children: this.props.cart.cart ? null : /*#__PURE__*/_jsxDEV(Alert, {\n          color: \"info\",\n          className: \"text-center\",\n          children: \"Your cart is empty!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n        color: \"danger\",\n        className: \"text-center\",\n        children: \"Login to View!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 23\n      }, this), this.props.isAuthenticated && !this.props.cart.loading && this.state.loaded && this.props.cart.cart ? /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [this.props.cart.cart.items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: [/*#__PURE__*/_jsxDEV(Card, {\n              children: /*#__PURE__*/_jsxDEV(CardBody, {\n                children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                  tag: \"h5\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(CardSubtitle, {\n                  tag: \"h6\",\n                  children: [\"Rs. \", item.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(CardText, {\n                  children: [\"Quantity - \", item.quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"danger\",\n                  onClick: this.onDeleteFromCart.bind(this, user._id, item.productId),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md-12\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              children: /*#__PURE__*/_jsxDEV(CardBody, {\n                children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                  tag: \"h5\",\n                  children: [\"Total Cost = Rs. \", this.props.cart.cart.bill]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nCart.propTypes = {\n  getCart: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool,\n  addToCart: PropTypes.func.isRequired,\n  deleteFromCart: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  cart: PropTypes.object.isRequired,\n  checkout: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  cart: state.cart,\n  isAuthenticated: state.auth.isAuthenticated,\n  user: state.auth.user\n});\n\nexport default connect(mapStateToProps, {\n  getCart,\n  deleteFromCart\n})(Cart);","map":{"version":3,"sources":["/home/salma/Rendu/Final-Project/backend/Client-style/client/src/components/Cart.js"],"names":["Component","Fragment","AppNavbar","Card","CardText","CardBody","CardTitle","CardSubtitle","Button","Alert","Container","Modal","ModalHeader","ModalBody","PropTypes","connect","getCart","deleteFromCart","Cart","state","modal","loaded","getCartItems","id","props","onDeleteFromCart","itemId","toggle","clearErrors","setState","render","user","isAuthenticated","cart","loading","_id","items","map","item","name","price","quantity","bind","productId","bill","propTypes","func","isRequired","bool","addToCart","object","checkout","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import { Component, Fragment } from 'react';\nimport AppNavbar from './AppNavbar';\nimport {Card, CardText, CardBody, CardTitle, CardSubtitle, Button, Alert, Container, Modal,\n    ModalHeader,\n    ModalBody,} from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getCart, deleteFromCart } from '../actions/cartActions';\n//import Checkout from './Checkout';\n//import { checkout } from '../actions/orderActions';\n\n\n\n\n\nclass Cart extends Component {\n\n    state = {\n        modal: false,\n        loaded: false,\n    }\n\n    static propTypes = {\n        getCart: PropTypes.func.isRequired,\n        isAuthenticated: PropTypes.bool,\n        addToCart: PropTypes.func.isRequired,\n        deleteFromCart: PropTypes.func.isRequired,\n        user: PropTypes.object.isRequired,\n        cart: PropTypes.object.isRequired,\n        checkout: PropTypes.func.isRequired\n    }\n\n    getCartItems = async (id) => {\n        await this.props.getCart(id);\n        this.state.loaded = true;\n    }\n\n    onDeleteFromCart = (id, itemId) => {\n        this.props.deleteFromCart(id, itemId);\n    } \n    toggle = () => {\n        // Clear errors\n        this.props.clearErrors();\n        this.setState({\n            modal: !this.state.modal\n        });\n    }\n\n    \n    render(){\n        \n        const user = this.props.user;\n        if(this.props.isAuthenticated && !this.props.cart.loading && !this.state.loaded){\n            this.getCartItems(user._id);\n        }\n        return(\n            <div>\n               <div className=\"flex justify-center lg:block\">\n                    <a className=\"relative text-gray-700 dark:text-gray-200 hover:text-gray-600 dark:hover:text-gray-300\" href=\"/cart\">\n                      <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path d=\"M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.70711 15.2929C4.07714 15.9229 4.52331 17 5.41421 17H17M17 17C15.8954 17 15 17.8954 15 19C15 20.1046 15.8954 21 17 21C18.1046 21 19 20.1046 19 19C19 17.8954 18.1046 17 17 17ZM9 19C9 20.1046 8.10457 21 7 21C5.89543 21 5 20.1046 5 19C5 17.8954 5.89543 17 7 17C8.10457 17 9 17.8954 9 19Z\" stroke=\"currentColor\" strokewidt=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                      </svg>\n                            \n                      <span className=\"absolute top-0 left-0 p-1 text-xs text-white bg-blue-500 rounded-full\"></span>\n                    </a>\n                    </div>\n                {this.props.isAuthenticated ?\n                    <Fragment>\n                        {this.props.cart.cart ? null :\n                            <Alert color=\"info\" className=\"text-center\">Your cart is empty!</Alert>\n                        }\n                    </Fragment>\n                    : <Alert color=\"danger\" className=\"text-center\">Login to View!</Alert>\n                }  \n        \n            \n                {this.props.isAuthenticated && !this.props.cart.loading && this.state.loaded && this.props.cart.cart?\n                <Container>\n                    <div className=\"row\">\n                        {this.props.cart.cart.items.map((item)=>(\n                            <div className=\"col-md-4\">\n                        <Card>\n                            <CardBody>\n                                <CardTitle tag=\"h5\">{item.name}</CardTitle>\n                                <CardSubtitle tag=\"h6\">Rs. {item.price}</CardSubtitle>\n                                <CardText>Quantity - {item.quantity}</CardText>\n                                <Button color=\"danger\" onClick={this.onDeleteFromCart.bind(this, user._id, item.productId)}>Delete</Button>\n                            </CardBody>\n                        </Card>\n                        <br/>\n                        </div>\n                        ))}\n                        <div class=\"col-md-12\">\n                        <Card>\n                            <CardBody>\n                                <CardTitle tag=\"h5\">Total Cost = Rs. {this.props.cart.cart.bill}</CardTitle>\n                        {   /*     <Checkout\n                                    user={user._id}\n                                    amount={this.props.cart.cart.bill}\n                                    checkout={this.props.checkout}\n                                /> */}                  \n                            </CardBody>\n                        </Card>\n                        </div>\n                    </div>\n                </Container>\n                    :null}\n            </div>\n            \n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    cart: state.cart,\n    isAuthenticated: state.auth.isAuthenticated,\n    user: state.auth.user,\n})\n\nexport default connect(mapStateToProps, {getCart, deleteFromCart})(Cart);"]},"metadata":{},"sourceType":"module"}